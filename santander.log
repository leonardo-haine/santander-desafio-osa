2025-10-23T11:34:38.693-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 83428 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T11:34:38.697-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T11:34:38.747-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-23T11:34:38.747-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-23T11:34:39.503-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T11:34:39.577-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 1 JPA repository interface.
2025-10-23T11:34:40.262-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T11:34:40.299-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T11:34:40.300-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T11:34:40.358-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T11:34:40.358-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1610 ms
2025-10-23T11:34:40.527-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T11:34:40.573-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-23T11:34:40.602-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T11:34:40.901-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T11:34:40.927-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-23T11:34:41.129-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T11:34:41.130-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-23T11:34:41.151-03:00  WARN 83428 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T11:34:41.173-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.2.220
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T11:34:41.849-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T11:34:41.905-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T11:34:43.516-03:00  WARN 83428 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T11:34:43.540-03:00 TRACE 83428 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@330f4622}
2025-10-23T11:34:43.542-03:00 DEBUG 83428 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T11:34:43.769-03:00 DEBUG 83428 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1468/0x00000008018b8450@44e3fe9 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T11:34:43.837-03:00 DEBUG 83428 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T11:34:43.912-03:00 DEBUG 83428 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T11:34:43.963-03:00 DEBUG 83428 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T11:34:44.015-03:00 DEBUG 83428 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T11:34:44.052-03:00 DEBUG 83428 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T11:34:44.087-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T11:34:44.139-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T11:34:44.172-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T11:34:44.183-03:00  INFO 83428 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 6.298 seconds (process running for 7.294)
2025-10-23T11:36:17.393-03:00  INFO 83428 --- [santander-desafio-osa] [RMI TCP Connection(11)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-10-23T11:36:17.396-03:00  INFO 83428 --- [santander-desafio-osa] [RMI TCP Connection(11)-127.0.0.1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T11:36:17.487-03:00  INFO 83428 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T11:36:17.491-03:00  INFO 83428 --- [santander-desafio-osa] [RMI TCP Connection(11)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T11:36:17.493-03:00  INFO 83428 --- [santander-desafio-osa] [RMI TCP Connection(11)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-23T11:36:17.499-03:00  INFO 83428 --- [santander-desafio-osa] [RMI TCP Connection(11)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-23T11:37:07.937-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 89180 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T11:37:07.939-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T11:37:07.979-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-23T11:37:07.979-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-23T11:37:08.529-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T11:37:08.573-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 1 JPA repository interface.
2025-10-23T11:37:09.036-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T11:37:09.046-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T11:37:09.046-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T11:37:09.092-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T11:37:09.093-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1113 ms
2025-10-23T11:37:09.226-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T11:37:09.262-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-23T11:37:09.289-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T11:37:09.496-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T11:37:09.518-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-23T11:37:09.693-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T11:37:09.694-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-23T11:37:09.715-03:00  WARN 89180 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T11:37:09.735-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.2.220
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T11:37:10.435-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T11:37:10.501-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T11:37:11.772-03:00  WARN 89180 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T11:37:11.802-03:00 TRACE 89180 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@564a01fd}
2025-10-23T11:37:11.803-03:00 DEBUG 89180 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T11:37:12.007-03:00 DEBUG 89180 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1467/0x00000008018bb850@5db0b54e with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T11:37:12.069-03:00 DEBUG 89180 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T11:37:12.131-03:00 DEBUG 89180 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T11:37:12.182-03:00 DEBUG 89180 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T11:37:12.231-03:00 DEBUG 89180 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T11:37:12.271-03:00 DEBUG 89180 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T11:37:12.304-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T11:37:12.355-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T11:37:12.388-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T11:37:12.396-03:00  INFO 89180 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 4.808 seconds (process running for 5.359)
2025-10-23T11:37:15.331-03:00  INFO 89180 --- [santander-desafio-osa] [RMI TCP Connection(7)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-10-23T11:37:15.334-03:00  INFO 89180 --- [santander-desafio-osa] [RMI TCP Connection(7)-127.0.0.1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T11:37:15.430-03:00  INFO 89180 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T11:37:15.433-03:00  INFO 89180 --- [santander-desafio-osa] [RMI TCP Connection(7)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T11:37:15.436-03:00  INFO 89180 --- [santander-desafio-osa] [RMI TCP Connection(7)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-23T11:37:15.466-03:00  INFO 89180 --- [santander-desafio-osa] [RMI TCP Connection(7)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-23T11:38:56.993-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 47444 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T11:38:56.995-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T11:38:57.038-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-23T11:38:57.038-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-23T11:38:57.816-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T11:38:57.869-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 1 JPA repository interface.
2025-10-23T11:38:58.488-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T11:38:58.500-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T11:38:58.500-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T11:38:58.545-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T11:38:58.546-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1508 ms
2025-10-23T11:38:58.697-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T11:38:58.737-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-23T11:38:58.761-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T11:38:59.002-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T11:38:59.031-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-23T11:38:59.206-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T11:38:59.209-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-23T11:38:59.229-03:00  WARN 47444 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T11:38:59.247-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T11:38:59.950-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T11:39:00.016-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T11:39:00.931-03:00  WARN 47444 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T11:39:00.954-03:00 TRACE 47444 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@650b9b91}
2025-10-23T11:39:00.956-03:00 DEBUG 47444 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T11:39:01.157-03:00 DEBUG 47444 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1467/0x00000008018b99f8@b201abe with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T11:39:01.217-03:00 DEBUG 47444 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T11:39:01.282-03:00 DEBUG 47444 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T11:39:01.355-03:00 DEBUG 47444 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T11:39:01.401-03:00 DEBUG 47444 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T11:39:01.439-03:00 DEBUG 47444 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T11:39:01.474-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T11:39:01.524-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T11:39:01.557-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T11:39:01.567-03:00  INFO 47444 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 4.945 seconds (process running for 5.62)
2025-10-23T11:39:38.897-03:00  INFO 47444 --- [santander-desafio-osa] [RMI TCP Connection(10)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-10-23T11:39:38.899-03:00  INFO 47444 --- [santander-desafio-osa] [RMI TCP Connection(10)-127.0.0.1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T11:39:38.983-03:00  INFO 47444 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T11:39:38.989-03:00  INFO 47444 --- [santander-desafio-osa] [RMI TCP Connection(10)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T11:39:38.993-03:00  INFO 47444 --- [santander-desafio-osa] [RMI TCP Connection(10)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-23T11:39:39.003-03:00  INFO 47444 --- [santander-desafio-osa] [RMI TCP Connection(10)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-23T11:41:25.849-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 61056 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T11:41:25.851-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T11:41:25.891-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-23T11:41:25.891-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-23T11:41:26.481-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T11:41:26.535-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 1 JPA repository interface.
2025-10-23T11:41:27.023-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T11:41:27.035-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T11:41:27.036-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T11:41:27.081-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T11:41:27.081-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1189 ms
2025-10-23T11:41:27.221-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T11:41:27.260-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-23T11:41:27.291-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T11:41:27.535-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T11:41:27.565-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-23T11:41:27.774-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T11:41:27.775-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-23T11:41:27.795-03:00  WARN 61056 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T11:41:27.814-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T11:41:28.413-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T11:41:28.455-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T11:41:29.657-03:00  WARN 61056 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T11:41:29.680-03:00 TRACE 61056 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@4800a141}
2025-10-23T11:41:29.681-03:00 DEBUG 61056 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T11:41:29.895-03:00 DEBUG 61056 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018cee88@6acfbbc9 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T11:41:29.954-03:00 DEBUG 61056 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T11:41:30.017-03:00 DEBUG 61056 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T11:41:30.075-03:00 DEBUG 61056 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T11:41:30.134-03:00 DEBUG 61056 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T11:41:30.179-03:00 DEBUG 61056 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T11:41:30.218-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T11:41:30.274-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T11:41:30.313-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T11:41:30.324-03:00  INFO 61056 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 4.919 seconds (process running for 5.676)
2025-10-23T11:41:44.317-03:00  INFO 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-23T11:41:44.318-03:00  INFO 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-23T11:41:44.320-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-23T11:41:44.320-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-23T11:41:44.320-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-23T11:41:44.322-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5e279b9f
2025-10-23T11:41:44.324-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@18384dd3
2025-10-23T11:41:44.324-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-23T11:41:44.325-03:00  INFO 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-10-23T11:41:44.368-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018cee88@6acfbbc9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:41:44.371-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T11:41:44.374-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T11:41:44.374-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T11:41:44.380-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T11:41:44.384-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T11:41:44.407-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T11:41:44.410-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T11:41:44.414-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:41:44.417-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T11:41:44.419-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T11:41:44.419-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:41:44.420-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T11:41:44.420-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T11:41:44.420-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T11:41:44.421-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T11:41:44.421-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T11:41:44.429-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T11:41:44.429-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T11:41:44.429-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T11:41:44.429-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T11:41:44.520-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T11:41:44.522-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T11:41:44.524-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T11:41:44.527-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T11:41:44.528-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T11:41:44.528-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:41:44.528-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T11:41:44.530-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T11:41:44.530-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T11:41:44.532-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T11:41:44.533-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T11:41:44.534-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@78b911a6
2025-10-23T11:41:44.535-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T11:41:44.535-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T11:41:44.537-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T11:41:44.537-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T11:41:44.539-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T11:41:44.688-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T11:41:44.690-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T11:41:44.691-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T11:41:44.756-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:41:47.338-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018cee88@6acfbbc9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:41:47.338-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:41:47.338-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /desafio/cadastrar
2025-10-23T11:41:47.338-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:41:47.338-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:41:47.339-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:41:47.339-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:41:47.339-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:41:47.339-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:41:47.340-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@9567102]]]
2025-10-23T11:41:47.340-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:41:47.341-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:41:47.344-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:41:47.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:41:47.380-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8080/oauth2/jwks
2025-10-23T11:41:47.401-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-10-23T11:41:47.421-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018cee88@6acfbbc9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:41:47.423-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2025-10-23T11:41:47.424-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T11:41:47.424-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T11:41:47.426-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T11:41:47.427-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T11:41:47.427-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T11:41:47.427-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T11:41:47.427-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:41:47.428-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T11:41:47.428-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T11:41:47.428-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:41:47.428-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T11:41:47.428-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T11:41:47.429-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T11:41:47.429-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T11:41:47.434-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:41:47.441-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-10-23T11:41:47.444-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=ISO-8859-1"
2025-10-23T11:41:47.460-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:41:47.460-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:41:47.461-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e0e23aef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:41:47.463-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:41:47.464-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@6b251d24
2025-10-23T11:41:47.465-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:41:47.465-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:41:47.465-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:41:47.465-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:41:47.465-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:41:47.465-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:41:47.465-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /desafio/cadastrar
2025-10-23T11:41:47.470-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /desafio/cadastrar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@73fd6bd
2025-10-23T11:41:47.470-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e0e23aef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:41:47.470-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /desafio/cadastrar
2025-10-23T11:41:47.476-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/desafio/cadastrar", parameters={}
2025-10-23T11:41:47.477-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#cadastrar(AgenciaDTO)
2025-10-23T11:41:47.725-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AgenciaDTO[nome=Agencia 4, coordenadaX=0.0, coordenadaY=0.0]]
2025-10-23T11:41:47.992-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:41:47.996-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Agencia(id=1, nome=Agencia 4, coordenadaX=0.0, coordenadaY=0.0)]
2025-10-23T11:41:47.998-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:41:48.001-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-23T11:41:52.582-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018cee88@6acfbbc9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:41:52.582-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:41:52.582-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /desafio/cadastrar
2025-10-23T11:41:52.582-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:41:52.582-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:41:52.582-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:41:52.582-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:41:52.582-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:41:52.582-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:41:52.583-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@9567102]]]
2025-10-23T11:41:52.584-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:41:52.584-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:41:52.584-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:41:52.584-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:41:52.586-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:41:52.586-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:41:52.587-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e0e23aef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:41:52.587-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:41:52.587-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@6b251d24
2025-10-23T11:41:52.587-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:41:52.587-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:41:52.587-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:41:52.588-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:41:52.588-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:41:52.588-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:41:52.588-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /desafio/cadastrar
2025-10-23T11:41:52.588-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /desafio/cadastrar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@73fd6bd
2025-10-23T11:41:52.588-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e0e23aef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:41:52.588-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /desafio/cadastrar
2025-10-23T11:41:52.588-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/desafio/cadastrar", parameters={}
2025-10-23T11:41:52.589-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#cadastrar(AgenciaDTO)
2025-10-23T11:41:52.590-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AgenciaDTO[nome=Agencia 1, coordenadaX=0.0, coordenadaY=0.0]]
2025-10-23T11:41:52.592-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:41:52.593-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Agencia(id=2, nome=Agencia 1, coordenadaX=0.0, coordenadaY=0.0)]
2025-10-23T11:41:52.593-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:41:52.594-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-23T11:41:58.647-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018cee88@6acfbbc9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:41:58.648-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:41:58.648-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /desafio/cadastrar
2025-10-23T11:41:58.648-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:41:58.648-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:41:58.648-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:41:58.648-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:41:58.648-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:41:58.648-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:41:58.649-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@9567102]]]
2025-10-23T11:41:58.649-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:41:58.649-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:41:58.649-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:41:58.649-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:41:58.651-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:41:58.651-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:41:58.652-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e0e23aef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:41:58.652-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:41:58.652-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@6b251d24
2025-10-23T11:41:58.653-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:41:58.653-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:41:58.653-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:41:58.653-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:41:58.653-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:41:58.654-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:41:58.654-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /desafio/cadastrar
2025-10-23T11:41:58.656-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /desafio/cadastrar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@73fd6bd
2025-10-23T11:41:58.656-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e0e23aef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:41:58.656-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /desafio/cadastrar
2025-10-23T11:41:58.657-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/desafio/cadastrar", parameters={}
2025-10-23T11:41:58.658-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#cadastrar(AgenciaDTO)
2025-10-23T11:41:58.662-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AgenciaDTO[nome=Agencia 2, coordenadaX=0.0, coordenadaY=0.0]]
2025-10-23T11:41:58.668-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:41:58.671-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Agencia(id=3, nome=Agencia 2, coordenadaX=0.0, coordenadaY=0.0)]
2025-10-23T11:41:58.672-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:41:58.674-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-23T11:42:12.057-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018cee88@6acfbbc9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:42:12.058-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /desafio/cadastrar
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@9567102]]]
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:42:12.058-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:42:12.060-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:42:12.062-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:42:12.063-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:42:12.063-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e0e23aef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:42:12.063-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:42:12.063-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@6b251d24
2025-10-23T11:42:12.063-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:42:12.064-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:42:12.064-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:42:12.064-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:42:12.064-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:42:12.064-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:42:12.064-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /desafio/cadastrar
2025-10-23T11:42:12.064-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /desafio/cadastrar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@73fd6bd
2025-10-23T11:42:12.064-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e0e23aef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:42:12.064-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /desafio/cadastrar
2025-10-23T11:42:12.064-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/desafio/cadastrar", parameters={}
2025-10-23T11:42:12.065-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#cadastrar(AgenciaDTO)
2025-10-23T11:42:12.068-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AgenciaDTO[nome=Agencia 3, coordenadaX=0.0, coordenadaY=0.0]]
2025-10-23T11:42:12.070-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:42:12.070-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Agencia(id=4, nome=Agencia 3, coordenadaX=0.0, coordenadaY=0.0)]
2025-10-23T11:42:12.072-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:42:12.075-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-23T11:42:20.341-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018cee88@6acfbbc9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:42:20.343-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T11:42:20.344-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T11:42:20.344-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T11:42:20.344-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T11:42:20.345-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T11:42:20.346-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T11:42:20.346-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T11:42:20.348-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T11:42:20.348-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T11:42:20.348-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T11:42:20.348-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T11:42:20.430-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T11:42:20.430-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@78b911a6
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T11:42:20.431-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T11:42:20.432-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T11:42:20.432-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T11:42:20.432-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T11:42:20.443-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T11:42:20.444-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T11:42:20.444-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T11:42:20.444-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:42:21.828-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018cee88@6acfbbc9] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:42:21.828-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:42:21.829-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T11:42:21.829-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:42:21.829-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:42:21.829-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:42:21.829-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:42:21.829-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:42:21.829-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:42:21.829-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@9567102]]]
2025-10-23T11:42:21.830-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:42:21.830-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:42:21.830-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:42:21.830-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:42:21.831-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:42:21.832-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:42:21.832-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df38b53, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:42:21.832-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:42:21.832-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@6b251d24
2025-10-23T11:42:21.832-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:42:21.834-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:42:21.834-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:42:21.835-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:42:21.835-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:42:21.835-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:42:21.836-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T11:42:21.837-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@73fd6bd
2025-10-23T11:42:21.837-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7df38b53, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:42:21.837-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T11:42:21.837-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T11:42:21.838-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T11:42:22.113-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:42:22.115-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 4, distancia=0.0], DistanciaDTO[nomeAgencia=Agencia 1, distancia=0 (truncated)...]
2025-10-23T11:42:22.119-03:00 TRACE 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:42:22.121-03:00 DEBUG 61056 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T11:43:53.026-03:00  INFO 61056 --- [santander-desafio-osa] [RMI TCP Connection(13)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-10-23T11:43:53.029-03:00  INFO 61056 --- [santander-desafio-osa] [RMI TCP Connection(13)-127.0.0.1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T11:43:53.147-03:00  INFO 61056 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T11:43:53.152-03:00  INFO 61056 --- [santander-desafio-osa] [RMI TCP Connection(13)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T11:43:53.155-03:00  INFO 61056 --- [santander-desafio-osa] [RMI TCP Connection(13)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-23T11:43:53.173-03:00  INFO 61056 --- [santander-desafio-osa] [RMI TCP Connection(13)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-23T11:50:55.819-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 86492 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T11:50:55.821-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T11:50:55.857-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-23T11:50:55.858-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-23T11:50:56.518-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T11:50:56.570-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 1 JPA repository interface.
2025-10-23T11:50:57.026-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T11:50:57.037-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T11:50:57.038-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T11:50:57.081-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T11:50:57.082-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1224 ms
2025-10-23T11:50:57.215-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T11:50:57.255-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-23T11:50:57.283-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T11:50:57.526-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T11:50:57.551-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-23T11:50:58.665-03:00  WARN 86492 --- [santander-desafio-osa] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90020, SQLState: 90020
2025-10-23T11:50:58.665-03:00 ERROR 86492 --- [santander-desafio-osa] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]
2025-10-23T11:50:58.666-03:00  WARN 86492 --- [santander-desafio-osa] [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata

org.hibernate.exception.GenericJDBCException: unable to obtain isolated JDBC connection [Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]] [n/a]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:334) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.6.jar:3.5.6]
	at br.com.santander.desafio.app.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.6.jar:3.5.6]
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:678) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.message.DbException.get(DbException.java:212) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:168) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.db.Store.<init>(Store.java:145) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.Database.<init>(Database.java:324) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.Engine.openSession(Engine.java:92) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.Engine.openSession(Engine.java:222) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.Engine.createSession(Engine.java:201) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.Driver.connect(Driver.java:59) ~[h2-2.1.214.jar:2.1.214]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-6.3.3.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	... 40 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: The file is locked: D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db [2.1.214/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.FileStore.open(FileStore.java:178) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.FileStore.open(FileStore.java:128) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.MVStore.<init>(MVStore.java:452) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4082) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.db.Store.<init>(Store.java:136) ~[h2-2.1.214.jar:2.1.214]
	... 57 common frames omitted

2025-10-23T11:50:58.682-03:00  WARN 86492 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T11:50:58.692-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (null)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T11:50:59.316-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T11:50:59.333-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-23T11:51:00.360-03:00  WARN 86492 --- [santander-desafio-osa] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90020, SQLState: 90020
2025-10-23T11:51:00.361-03:00 ERROR 86492 --- [santander-desafio-osa] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]
2025-10-23T11:51:00.365-03:00 ERROR 86492 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]] [n/a]
2025-10-23T11:51:00.367-03:00  WARN 86492 --- [santander-desafio-osa] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]] [n/a]
2025-10-23T11:51:00.369-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-23T11:51:00.379-03:00  INFO 86492 --- [santander-desafio-osa] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-23T11:51:00.395-03:00 ERROR 86492 --- [santander-desafio-osa] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.6.jar:3.5.6]
	at br.com.santander.desafio.app.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.6.jar:3.5.6]
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.2.11.jar:6.2.11]
	... 20 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:93) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.11.jar:6.2.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.11.jar:6.2.11]
	... 24 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: "D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db". Possible solutions: close all other connection(s); use the server mode [90020-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:678) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.message.DbException.get(DbException.java:212) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:168) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.db.Store.<init>(Store.java:145) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.Database.<init>(Database.java:324) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.Engine.openSession(Engine.java:92) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.Engine.openSession(Engine.java:222) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.Engine.createSession(Engine.java:201) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.Driver.connect(Driver.java:59) ~[h2-2.1.214.jar:2.1.214]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-6.3.3.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46) ~[hibernate-core-6.6.29.Final.jar:6.6.29.Final]
	... 44 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: The file is locked: D:/workspace/santander-desafio-osa/data/agenciasdb.mv.db [2.1.214/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.FileStore.open(FileStore.java:178) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.FileStore.open(FileStore.java:128) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.MVStore.<init>(MVStore.java:452) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4082) ~[h2-2.1.214.jar:2.1.214]
	at org.h2.mvstore.db.Store.<init>(Store.java:136) ~[h2-2.1.214.jar:2.1.214]
	... 61 common frames omitted

2025-10-23T11:51:38.619-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 39256 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T11:51:38.621-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T11:51:38.681-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-23T11:51:38.681-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-23T11:51:39.266-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T11:51:39.321-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 1 JPA repository interface.
2025-10-23T11:51:39.835-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T11:51:39.846-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T11:51:39.847-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T11:51:39.895-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T11:51:39.895-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1213 ms
2025-10-23T11:51:40.081-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T11:51:40.119-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-23T11:51:40.148-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T11:51:40.418-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T11:51:40.452-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-23T11:51:40.716-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T11:51:40.719-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-23T11:51:40.750-03:00  WARN 39256 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T11:51:40.772-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T11:51:41.429-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T11:51:41.471-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T11:51:41.960-03:00  WARN 39256 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T11:51:41.982-03:00 TRACE 39256 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@1c602d3a}
2025-10-23T11:51:41.983-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T11:51:42.163-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@2e7bf6b6 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T11:51:42.245-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T11:51:42.312-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T11:51:42.361-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T11:51:42.411-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T11:51:42.451-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T11:51:42.486-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T11:51:42.533-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T11:51:42.576-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T11:51:42.586-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 4.331 seconds (process running for 4.955)
2025-10-23T11:51:59.650-03:00  INFO 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-23T11:51:59.652-03:00  INFO 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-23T11:51:59.653-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-23T11:51:59.654-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-23T11:51:59.654-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-23T11:51:59.657-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2f452ce1
2025-10-23T11:51:59.659-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2e5fd8a
2025-10-23T11:51:59.659-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-23T11:51:59.659-03:00  INFO 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-10-23T11:51:59.699-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@2e7bf6b6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:51:59.705-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T11:51:59.707-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T11:51:59.708-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T11:51:59.711-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T11:51:59.714-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T11:51:59.732-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T11:51:59.736-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T11:51:59.740-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:51:59.742-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T11:51:59.743-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T11:51:59.744-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:51:59.744-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T11:51:59.745-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T11:51:59.746-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T11:51:59.746-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T11:51:59.747-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T11:51:59.754-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T11:51:59.755-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T11:51:59.755-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T11:51:59.755-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T11:51:59.842-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T11:51:59.843-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T11:51:59.845-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T11:51:59.847-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T11:51:59.848-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T11:51:59.848-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:51:59.848-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T11:51:59.850-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T11:51:59.851-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T11:51:59.851-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T11:51:59.853-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T11:51:59.853-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2fe425ed
2025-10-23T11:51:59.854-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T11:51:59.854-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T11:51:59.855-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T11:51:59.857-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T11:51:59.858-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T11:51:59.958-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T11:51:59.960-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T11:51:59.961-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T11:52:00.008-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:52:03.660-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@2e7bf6b6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:52:03.662-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:52:03.662-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /desafio/cadastrar
2025-10-23T11:52:03.662-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:52:03.662-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:52:03.663-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:52:03.663-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:52:03.663-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:52:03.663-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:52:03.665-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@34e27b60]]]
2025-10-23T11:52:03.665-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:52:03.665-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:52:03.666-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:52:03.666-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:52:03.700-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8080/oauth2/jwks
2025-10-23T11:52:03.725-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-10-23T11:52:03.750-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@2e7bf6b6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:52:03.751-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2025-10-23T11:52:03.752-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T11:52:03.752-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T11:52:03.752-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T11:52:03.752-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T11:52:03.752-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T11:52:03.752-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T11:52:03.753-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:52:03.753-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T11:52:03.753-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T11:52:03.753-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:52:03.754-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T11:52:03.754-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T11:52:03.754-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T11:52:03.755-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T11:52:03.762-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:52:03.777-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-10-23T11:52:03.780-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=ISO-8859-1"
2025-10-23T11:52:03.797-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:52:03.797-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:52:03.798-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@db7556c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:52:03.798-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:52:03.799-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5d74ef6a
2025-10-23T11:52:03.799-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:52:03.799-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:52:03.799-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:52:03.799-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:52:03.799-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:52:03.800-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:52:03.800-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /desafio/cadastrar
2025-10-23T11:52:03.802-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /desafio/cadastrar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2c4b9cc1
2025-10-23T11:52:03.802-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@db7556c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:52:03.802-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /desafio/cadastrar
2025-10-23T11:52:03.804-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/desafio/cadastrar", parameters={}
2025-10-23T11:52:03.806-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#cadastrar(AgenciaDTO)
2025-10-23T11:52:03.954-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AgenciaDTO[nome=Agencia 1, posX=2.0, posY=-2.0]]
2025-10-23T11:52:04.032-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:52:04.035-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Agencia(id=5, nome=Agencia 1, coordenadaX=2.0, coordenadaY=-2.0)]
2025-10-23T11:52:04.039-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:52:04.044-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-23T11:52:13.055-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@2e7bf6b6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:52:13.056-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:52:13.056-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /desafio/cadastrar
2025-10-23T11:52:13.056-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:52:13.056-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:52:13.056-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:52:13.056-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:52:13.056-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:52:13.057-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:52:13.057-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@34e27b60]]]
2025-10-23T11:52:13.057-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:52:13.058-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:52:13.058-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:52:13.059-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:52:13.063-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:52:13.063-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:52:13.064-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@db7556c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:52:13.064-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:52:13.065-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5d74ef6a
2025-10-23T11:52:13.065-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:52:13.065-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:52:13.065-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:52:13.065-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:52:13.065-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:52:13.065-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:52:13.065-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /desafio/cadastrar
2025-10-23T11:52:13.066-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /desafio/cadastrar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2c4b9cc1
2025-10-23T11:52:13.066-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@db7556c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:52:13.066-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /desafio/cadastrar
2025-10-23T11:52:13.066-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/desafio/cadastrar", parameters={}
2025-10-23T11:52:13.068-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#cadastrar(AgenciaDTO)
2025-10-23T11:52:13.070-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AgenciaDTO[nome=Agencia 2, posX=10.0, posY=4.0]]
2025-10-23T11:52:13.073-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:52:13.075-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Agencia(id=6, nome=Agencia 2, coordenadaX=10.0, coordenadaY=4.0)]
2025-10-23T11:52:13.077-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:52:13.080-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-23T11:52:24.711-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@2e7bf6b6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:52:24.713-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /desafio/cadastrar
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@34e27b60]]]
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:52:24.713-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:52:24.715-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:52:24.716-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:52:24.717-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:52:24.717-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:52:24.717-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@db7556c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:52:24.717-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:52:24.717-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5d74ef6a
2025-10-23T11:52:24.717-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:52:24.717-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:52:24.717-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:52:24.717-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:52:24.717-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:52:24.717-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:52:24.718-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /desafio/cadastrar
2025-10-23T11:52:24.718-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /desafio/cadastrar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2c4b9cc1
2025-10-23T11:52:24.718-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@db7556c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:52:24.718-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /desafio/cadastrar
2025-10-23T11:52:24.718-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/desafio/cadastrar", parameters={}
2025-10-23T11:52:24.719-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#cadastrar(AgenciaDTO)
2025-10-23T11:52:24.720-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AgenciaDTO[nome=Agencia 3, posX=5.0, posY=-2.0]]
2025-10-23T11:52:24.726-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:52:24.727-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Agencia(id=7, nome=Agencia 3, coordenadaX=5.0, coordenadaY=-2.0)]
2025-10-23T11:52:24.728-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:52:24.730-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-23T11:52:31.272-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@2e7bf6b6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:52:31.273-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /desafio/cadastrar
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@34e27b60]]]
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:52:31.273-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:52:31.275-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:52:31.276-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:52:31.276-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:52:31.276-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@db7556c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:52:31.276-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:52:31.276-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5d74ef6a
2025-10-23T11:52:31.276-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:52:31.276-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:52:31.277-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:52:31.277-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:52:31.277-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:52:31.277-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:52:31.277-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /desafio/cadastrar
2025-10-23T11:52:31.277-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /desafio/cadastrar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2c4b9cc1
2025-10-23T11:52:31.277-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@db7556c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:52:31.277-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /desafio/cadastrar
2025-10-23T11:52:31.278-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/desafio/cadastrar", parameters={}
2025-10-23T11:52:31.278-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#cadastrar(AgenciaDTO)
2025-10-23T11:52:31.279-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AgenciaDTO[nome=Agencia 4, posX=10.0, posY=-7.0]]
2025-10-23T11:52:31.281-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:52:31.281-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Agencia(id=8, nome=Agencia 4, coordenadaX=10.0, coordenadaY=-7.0)]
2025-10-23T11:52:31.282-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:52:31.282-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-23T11:53:09.206-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@2e7bf6b6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:53:09.206-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T11:53:09.206-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T11:53:09.207-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T11:53:09.208-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T11:53:09.208-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T11:53:09.208-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T11:53:09.208-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T11:53:09.208-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T11:53:09.208-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T11:53:09.293-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T11:53:09.294-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T11:53:09.295-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T11:53:09.295-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T11:53:09.295-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T11:53:09.295-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:53:09.296-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T11:53:09.296-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T11:53:09.296-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T11:53:09.296-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T11:53:09.296-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T11:53:09.296-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2fe425ed
2025-10-23T11:53:09.296-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T11:53:09.296-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T11:53:09.297-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T11:53:09.297-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T11:53:09.297-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T11:53:09.310-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T11:53:09.311-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T11:53:09.311-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T11:53:09.313-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:53:11.095-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@2e7bf6b6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T11:53:11.096-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@34e27b60]]]
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T11:53:11.096-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T11:53:11.097-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T11:53:11.097-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T11:53:11.097-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9b84bb25, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5d74ef6a
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T11:53:11.098-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2c4b9cc1
2025-10-23T11:53:11.099-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9b84bb25, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T11:53:11.099-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T11:53:11.099-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T11:53:11.099-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T11:53:11.333-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T11:53:11.334-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=2.8284271247461903], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T11:53:11.337-03:00 TRACE 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T11:53:11.339-03:00 DEBUG 39256 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:01:42.799-03:00  INFO 39256 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T12:01:42.804-03:00  INFO 39256 --- [santander-desafio-osa] [Thread-6] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T12:01:43.166-03:00  INFO 39256 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T12:01:43.196-03:00  INFO 39256 --- [santander-desafio-osa] [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:01:43.226-03:00  INFO 39256 --- [santander-desafio-osa] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-23T12:01:43.273-03:00  INFO 39256 --- [santander-desafio-osa] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-23T12:01:43.561-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 39256 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T12:01:43.561-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T12:01:43.866-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T12:01:43.887-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 1 JPA repository interface.
2025-10-23T12:01:44.061-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T12:01:44.062-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T12:01:44.062-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T12:01:44.091-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T12:01:44.092-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 528 ms
2025-10-23T12:01:44.165-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T12:01:44.168-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T12:01:44.186-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T12:01:44.188-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-10-23T12:01:44.215-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T12:01:44.216-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-10-23T12:01:44.217-03:00  WARN 39256 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T12:01:44.217-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T12:01:44.275-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T12:01:44.278-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:01:45.453-03:00  WARN 39256 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T12:01:45.464-03:00 TRACE 39256 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@186a30a9}
2025-10-23T12:01:45.464-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T12:01:45.489-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b95a0@376a0b01 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T12:01:45.513-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T12:01:45.545-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T12:01:45.565-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T12:01:45.591-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T12:01:45.602-03:00 DEBUG 39256 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T12:01:45.627-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T12:01:45.653-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T12:01:45.672-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T12:01:45.680-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 2.162 seconds (process running for 608.048)
2025-10-23T12:01:45.684-03:00  INFO 39256 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T12:02:35.861-03:00  INFO 39256 --- [santander-desafio-osa] [RMI TCP Connection(22)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-10-23T12:02:35.863-03:00  INFO 39256 --- [santander-desafio-osa] [RMI TCP Connection(22)-127.0.0.1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T12:02:35.974-03:00  INFO 39256 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T12:02:35.978-03:00  INFO 39256 --- [santander-desafio-osa] [RMI TCP Connection(22)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:02:35.979-03:00  INFO 39256 --- [santander-desafio-osa] [RMI TCP Connection(22)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-10-23T12:02:35.994-03:00  INFO 39256 --- [santander-desafio-osa] [RMI TCP Connection(22)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-10-23T12:02:38.467-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 63656 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T12:02:38.468-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T12:02:38.511-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-23T12:02:38.513-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-23T12:02:39.138-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T12:02:39.186-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 1 JPA repository interface.
2025-10-23T12:02:39.777-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T12:02:39.796-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T12:02:39.797-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T12:02:39.867-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T12:02:39.868-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1355 ms
2025-10-23T12:02:40.137-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T12:02:40.219-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-23T12:02:40.279-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T12:02:40.710-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T12:02:40.759-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-23T12:02:41.165-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T12:02:41.167-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-23T12:02:41.216-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T12:02:41.255-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T12:02:42.063-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T12:02:42.110-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:02:43.603-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T12:02:43.626-03:00 TRACE 63656 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@20f21269}
2025-10-23T12:02:43.628-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T12:02:43.831-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@614aa0ee with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T12:02:43.895-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T12:02:43.960-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T12:02:44.014-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T12:02:44.061-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T12:02:44.096-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T12:02:44.138-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T12:02:44.191-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T12:02:44.240-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T12:02:44.250-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 6.17 seconds (process running for 6.9)
2025-10-23T12:02:51.658-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-23T12:02:51.658-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-23T12:02:51.658-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-23T12:02:51.658-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-23T12:02:51.658-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-23T12:02:51.660-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7cd952a5
2025-10-23T12:02:51.662-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@659917bf
2025-10-23T12:02:51.663-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-23T12:02:51.663-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-10-23T12:02:51.697-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@614aa0ee] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:02:51.701-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T12:02:51.704-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:02:51.705-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:02:51.710-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:02:51.713-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:02:51.730-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:02:51.733-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:02:51.737-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:02:51.739-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:02:51.741-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:02:51.742-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:02:51.742-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:02:51.742-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:02:51.742-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:02:51.744-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:02:51.744-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T12:02:51.759-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T12:02:51.759-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T12:02:51.760-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T12:02:51.760-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T12:02:51.857-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T12:02:51.858-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T12:02:51.860-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T12:02:51.863-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T12:02:51.864-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T12:02:51.866-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:02:51.866-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T12:02:51.870-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T12:02:51.872-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T12:02:51.873-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T12:02:51.874-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T12:02:51.876-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@601735c3
2025-10-23T12:02:51.876-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T12:02:51.878-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T12:02:51.881-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T12:02:51.882-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T12:02:51.884-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T12:02:52.008-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T12:02:52.010-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T12:02:52.011-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T12:02:52.076-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:02:54.093-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@614aa0ee] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:02:54.094-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6b1b8c39]]]
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:02:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:02:54.096-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:02:54.122-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8080/oauth2/jwks
2025-10-23T12:02:54.137-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-10-23T12:02:54.154-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@614aa0ee] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:02:54.156-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2025-10-23T12:02:54.156-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:02:54.156-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:02:54.156-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:02:54.156-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:02:54.157-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:02:54.157-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:02:54.157-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:02:54.158-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:02:54.158-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:02:54.158-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:02:54.158-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:02:54.158-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:02:54.158-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:02:54.158-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:02:54.164-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:02:54.176-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-10-23T12:02:54.178-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=ISO-8859-1"
2025-10-23T12:02:54.199-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:02:54.199-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:02:54.201-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1edadb6e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:02:54.203-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:02:54.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@6dd7984a
2025-10-23T12:02:54.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:02:54.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:02:54.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:02:54.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:02:54.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:02:54.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:02:54.209-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:02:54.212-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4e8ee189
2025-10-23T12:02:54.212-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1edadb6e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:02:54.212-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:02:54.216-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T12:02:54.220-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:02:54.612-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:02:54.619-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=2.8284271247461903], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:02:54.678-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:02:54.682-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:02:57.078-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@614aa0ee] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:02:57.078-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:02:57.078-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:02:57.078-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:02:57.078-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:02:57.078-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:02:57.078-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:02:57.078-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:02:57.078-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:02:57.078-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6b1b8c39]]]
2025-10-23T12:02:57.079-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:02:57.079-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:02:57.079-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:02:57.079-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:02:57.080-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:02:57.080-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:02:57.080-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1edadb6e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:02:57.080-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:02:57.080-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@6dd7984a
2025-10-23T12:02:57.080-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:02:57.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:02:57.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:02:57.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:02:57.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:02:57.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:02:57.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:02:57.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4e8ee189
2025-10-23T12:02:57.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1edadb6e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:02:57.081-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:02:57.081-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T12:02:57.081-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:02:57.089-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:02:57.090-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=2.8284271247461903], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:02:57.091-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:02:57.091-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:03:09.748-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@614aa0ee] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:03:09.748-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:03:09.748-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:03:09.748-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:03:09.748-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:03:09.749-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:03:09.749-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:03:09.749-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:03:09.749-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:03:09.749-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6b1b8c39]]]
2025-10-23T12:03:09.749-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:03:09.749-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:03:09.749-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:03:09.749-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:03:09.751-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:03:09.751-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:03:09.751-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1edadb6e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:03:09.751-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:03:09.751-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@6dd7984a
2025-10-23T12:03:09.752-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:03:09.752-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:03:09.752-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:03:09.752-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:03:09.752-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:03:09.752-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:03:09.752-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:03:09.753-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4e8ee189
2025-10-23T12:03:09.753-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1edadb6e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:03:09.753-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:03:09.755-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T12:03:09.756-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:03:09.761-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:03:09.763-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=2.8284271247461903], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:03:09.763-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:03:09.765-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:44:29.168-03:00  INFO 63656 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T12:44:29.218-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-6] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T12:44:29.467-03:00  INFO 63656 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T12:44:29.482-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:44:29.491-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-23T12:44:32.799-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-23T12:44:32.922-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 63656 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T12:44:32.922-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T12:44:33.082-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T12:44:33.091-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 1 JPA repository interface.
2025-10-23T12:44:33.210-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T12:44:33.211-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T12:44:33.211-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T12:44:33.226-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T12:44:33.226-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 301 ms
2025-10-23T12:44:33.261-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T12:44:33.266-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T12:44:33.276-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T12:44:33.278-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-10-23T12:44:33.299-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn20: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T12:44:33.299-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-10-23T12:44:33.300-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T12:44:33.300-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T12:44:33.332-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T12:44:33.334-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:44:34.011-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T12:44:34.018-03:00 TRACE 63656 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@e7c88a5}
2025-10-23T12:44:34.018-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T12:44:34.039-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@23e5b252 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T12:44:34.058-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T12:44:34.086-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T12:44:34.104-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T12:44:34.125-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T12:44:34.134-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T12:44:34.150-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T12:44:34.166-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T12:44:34.176-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T12:44:34.181-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 1.283 seconds (process running for 2516.831)
2025-10-23T12:44:34.184-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T12:44:36.276-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-23T12:44:36.276-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-23T12:44:36.276-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-23T12:44:36.277-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-23T12:44:36.277-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-23T12:44:36.278-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4976f734
2025-10-23T12:44:36.278-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6d939eac
2025-10-23T12:44:36.278-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-23T12:44:36.280-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-23T12:44:36.281-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@23e5b252] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:44:36.282-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T12:44:36.282-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:44:36.282-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:44:36.282-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:44:36.282-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:44:36.282-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:44:36.284-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:44:36.284-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:44:36.284-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:44:36.284-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:44:36.284-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:44:36.284-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:44:36.284-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:44:36.285-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:44:36.285-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:44:36.285-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T12:44:36.285-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T12:44:36.285-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T12:44:36.286-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T12:44:36.286-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T12:44:36.370-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T12:44:36.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@56e9e92
2025-10-23T12:44:36.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T12:44:36.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T12:44:36.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T12:44:36.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T12:44:36.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T12:44:36.385-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T12:44:36.386-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T12:44:36.386-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T12:44:36.387-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:44:40.366-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@23e5b252] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:44:40.366-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:44:40.367-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@3f6ca5b6]]]
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:44:40.367-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:44:40.368-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8080/oauth2/jwks
2025-10-23T12:44:40.368-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-10-23T12:44:40.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@23e5b252] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:44:40.371-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2025-10-23T12:44:40.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:44:40.371-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:44:40.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:44:40.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:44:40.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:44:40.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:44:40.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:44:40.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:44:40.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:44:40.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:44:40.372-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:44:40.373-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:44:40.373-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:44:40.373-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:44:40.373-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:44:40.373-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-10-23T12:44:40.373-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=ISO-8859-1"
2025-10-23T12:44:40.375-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:44:40.375-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:44:40.375-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8999a2a4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:44:40.375-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:44:40.375-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@18ac7b2
2025-10-23T12:44:40.376-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:44:40.376-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:44:40.376-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:44:40.376-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:44:40.376-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:44:40.376-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:44:40.376-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:44:40.376-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@79689f01
2025-10-23T12:44:40.376-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8999a2a4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:44:40.376-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:44:40.376-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T12:44:40.377-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:44:40.394-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.ClassCastException: class br.com.santander.desafio.app.entity.dto.DistanciaDTO cannot be cast to class java.lang.Comparable (br.com.santander.desafio.app.entity.dto.DistanciaDTO is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @250f16cc; java.lang.Comparable is in module java.base of loader 'bootstrap')
2025-10-23T12:44:40.395-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:44:40.396-03:00 ERROR 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class br.com.santander.desafio.app.entity.dto.DistanciaDTO cannot be cast to class java.lang.Comparable (br.com.santander.desafio.app.entity.dto.DistanciaDTO is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @250f16cc; java.lang.Comparable is in module java.base of loader 'bootstrap')] with root cause

java.lang.ClassCastException: class br.com.santander.desafio.app.entity.dto.DistanciaDTO cannot be cast to class java.lang.Comparable (br.com.santander.desafio.app.entity.dto.DistanciaDTO is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @250f16cc; java.lang.Comparable is in module java.base of loader 'bootstrap')
	at java.base/java.util.Comparators$NaturalOrderComparator.compare(Comparators.java:47) ~[na:na]
	at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]
	at java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]
	at java.base/java.util.Arrays.sort(Arrays.java:1307) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:353) ~[na:na]
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at br.com.santander.desafio.app.service.AgenciaService.consultarDistancias(AgenciaService.java:28) ~[classes/:na]
	at br.com.santander.desafio.app.controller.AgenciaController.consultarDistancias(AgenciaController.java:38) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:177) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:158) ~[spring-security-oauth2-resource-server-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-10-23T12:44:40.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@23e5b252] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:44:40.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:44:40.409-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?posX=-10&posY=5
2025-10-23T12:44:40.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:44:40.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:44:40.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:44:40.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?posX=-10&posY=5
2025-10-23T12:44:40.410-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Denying request since did not find matching RequestMatcher
2025-10-23T12:44:40.411-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-10-23T12:44:40.411-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-10-23T12:44:40.411-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8999a2a4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:44:40.411-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8999a2a4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]] to access denied handler since access is denied

org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:99) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:612) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:396) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:323) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:268) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:377) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:209) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:286) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:150) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-10-23T12:45:19.124-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@23e5b252] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:45:19.125-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:45:19.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T12:45:19.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T12:45:19.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T12:45:19.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T12:45:19.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T12:45:19.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T12:45:19.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T12:45:19.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T12:45:19.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T12:45:19.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T12:45:19.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:45:19.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T12:45:19.207-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T12:45:19.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T12:45:19.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T12:45:19.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T12:45:19.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@56e9e92
2025-10-23T12:45:19.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T12:45:19.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T12:45:19.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T12:45:19.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T12:45:19.208-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T12:45:19.221-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T12:45:19.221-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T12:45:19.221-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T12:45:19.222-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:45:33.124-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@23e5b252] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:45:33.124-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:45:33.125-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@3f6ca5b6]]]
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:45:33.125-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:45:33.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:45:33.126-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:45:33.126-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3ef853c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:45:33.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:45:33.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@18ac7b2
2025-10-23T12:45:33.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:45:33.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:45:33.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:45:33.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:45:33.126-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:45:33.127-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:45:33.127-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:45:33.127-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@79689f01
2025-10-23T12:45:33.127-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3ef853c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:45:33.127-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:45:33.127-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T12:45:33.127-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:45:33.130-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.ClassCastException: class br.com.santander.desafio.app.entity.dto.DistanciaDTO cannot be cast to class java.lang.Comparable (br.com.santander.desafio.app.entity.dto.DistanciaDTO is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @250f16cc; java.lang.Comparable is in module java.base of loader 'bootstrap')
2025-10-23T12:45:33.132-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:45:33.132-03:00 ERROR 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class br.com.santander.desafio.app.entity.dto.DistanciaDTO cannot be cast to class java.lang.Comparable (br.com.santander.desafio.app.entity.dto.DistanciaDTO is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @250f16cc; java.lang.Comparable is in module java.base of loader 'bootstrap')] with root cause

java.lang.ClassCastException: class br.com.santander.desafio.app.entity.dto.DistanciaDTO cannot be cast to class java.lang.Comparable (br.com.santander.desafio.app.entity.dto.DistanciaDTO is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @250f16cc; java.lang.Comparable is in module java.base of loader 'bootstrap')
	at java.base/java.util.Comparators$NaturalOrderComparator.compare(Comparators.java:47) ~[na:na]
	at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]
	at java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]
	at java.base/java.util.Arrays.sort(Arrays.java:1307) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:353) ~[na:na]
	at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at br.com.santander.desafio.app.service.AgenciaService.consultarDistancias(AgenciaService.java:28) ~[classes/:na]
	at br.com.santander.desafio.app.controller.AgenciaController.consultarDistancias(AgenciaController.java:38) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:177) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:158) ~[spring-security-oauth2-resource-server-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@23e5b252] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:45:33.135-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?posX=-10&posY=5
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:45:33.135-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /error?posX=-10&posY=5
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Denying request since did not find matching RequestMatcher
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3ef853c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:45:33.136-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3ef853c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]] to access denied handler since access is denied

org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:99) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:612) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:396) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:323) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:268) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:377) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:209) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:286) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:150) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-10-23T12:46:51.420-03:00  INFO 63656 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T12:46:51.424-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-8] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T12:46:51.861-03:00  INFO 63656 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T12:46:51.883-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-8] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:46:51.884-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-10-23T12:46:51.910-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-10-23T12:46:52.008-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 63656 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T12:46:52.008-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T12:46:52.160-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T12:46:52.178-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interface.
2025-10-23T12:46:52.304-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T12:46:52.305-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T12:46:52.305-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T12:46:52.323-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T12:46:52.323-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 313 ms
2025-10-23T12:46:52.355-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T12:46:52.357-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T12:46:52.364-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T12:46:52.365-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-10-23T12:46:52.385-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn30: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T12:46:52.385-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-10-23T12:46:52.385-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T12:46:52.385-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T12:46:52.411-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T12:46:52.414-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:46:54.084-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T12:46:54.094-03:00 TRACE 63656 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@4abddc43}
2025-10-23T12:46:54.096-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T12:46:54.127-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@625f081c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T12:46:54.148-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T12:46:54.173-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T12:46:54.190-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T12:46:54.205-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T12:46:54.218-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T12:46:54.235-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T12:46:54.254-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T12:46:54.270-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T12:46:54.279-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 2.295 seconds (process running for 2656.929)
2025-10-23T12:46:54.285-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T12:46:57.402-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-23T12:46:57.402-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-23T12:46:57.402-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-23T12:46:57.402-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-23T12:46:57.402-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-23T12:46:57.404-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@68466830
2025-10-23T12:46:57.404-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@322d2b7b
2025-10-23T12:46:57.404-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-23T12:46:57.404-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-23T12:46:57.404-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@625f081c] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:46:57.405-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@649fe12a]]]
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:46:57.405-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:46:57.405-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8080/oauth2/jwks
2025-10-23T12:46:57.406-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@625f081c] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:46:57.408-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:46:57.408-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:46:57.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:46:57.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:46:57.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:46:57.409-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:46:57.410-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-10-23T12:46:57.410-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=ISO-8859-1"
2025-10-23T12:46:57.411-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8080/oauth2/jwks
2025-10-23T12:46:57.411-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-10-23T12:46:57.412-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@625f081c] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:46:57.412-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2025-10-23T12:46:57.412-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:46:57.412-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:46:57.412-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:46:57.412-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:46:57.412-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:46:57.412-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:46:57.412-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:46:57.413-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:46:57.413-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:46:57.413-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:46:57.413-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:46:57.413-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:46:57.413-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:46:57.413-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:46:57.413-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:46:57.413-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Response 200 OK
2025-10-23T12:46:57.413-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=ISO-8859-1"
2025-10-23T12:46:57.414-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.oauth2.jwt.NimbusJwtDecoder        : Failed to process JWT

com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:394) ~[nimbus-jose-jwt-10.5.jar:10.5]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:340) ~[nimbus-jose-jwt-10.5.jar:10.5]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:162) ~[spring-security-oauth2-jose-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:142) ~[spring-security-oauth2-jose-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.5.5.jar:6.5.5]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:144) ~[spring-security-oauth2-resource-server-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-10-23T12:46:57.416-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid
2025-10-23T12:46:57.418-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authentication failed with provider JwtAuthenticationProvider since An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
2025-10-23T12:46:57.418-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request

org.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.5.5.jar:6.5.5]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:144) ~[spring-security-oauth2-resource-server-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.security.oauth2.jwt.BadJwtException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:188) ~[spring-security-oauth2-jose-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:142) ~[spring-security-oauth2-jose-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.5.5.jar:6.5.5]
	... 68 common frames omitted
Caused by: com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:394) ~[nimbus-jose-jwt-10.5.jar:10.5]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:340) ~[nimbus-jose-jwt-10.5.jar:10.5]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:162) ~[spring-security-oauth2-jose-6.5.5.jar:6.5.5]
	... 70 common frames omitted

2025-10-23T12:46:57.419-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@625f081c] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:47:01.041-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:47:01.041-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:47:01.042-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:47:01.042-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T12:47:01.042-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T12:47:01.042-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T12:47:01.042-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T12:47:01.042-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T12:47:01.119-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T12:47:01.120-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T12:47:01.120-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7233c366
2025-10-23T12:47:01.120-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T12:47:01.120-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T12:47:01.120-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T12:47:01.120-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T12:47:01.120-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T12:47:01.132-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T12:47:01.133-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T12:47:01.133-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T12:47:01.133-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@625f081c] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:47:03.422-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@649fe12a]]]
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:47:03.422-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:47:03.424-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:47:03.424-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:47:03.424-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7c3bf73a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:47:03.424-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5957314e
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@186a3b75
2025-10-23T12:47:03.425-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7c3bf73a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:47:03.425-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:47:03.425-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T12:47:03.425-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:47:03.434-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:47:03.436-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=2.8284271247461903], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:47:03.437-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:47:03.438-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:52:13.857-03:00  INFO 63656 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T12:52:13.860-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-12] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T12:52:14.273-03:00  INFO 63656 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T12:52:14.279-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-12] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:52:14.282-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-10-23T12:52:14.336-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-10-23T12:52:14.494-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 63656 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T12:52:14.494-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T12:52:14.680-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T12:52:14.690-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 1 JPA repository interface.
2025-10-23T12:52:14.796-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T12:52:14.797-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T12:52:14.797-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T12:52:14.824-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T12:52:14.825-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 328 ms
2025-10-23T12:52:14.874-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T12:52:14.877-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T12:52:14.887-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T12:52:14.888-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-10-23T12:52:14.931-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn40: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T12:52:14.931-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-10-23T12:52:14.933-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T12:52:14.933-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T12:52:14.971-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T12:52:14.974-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:52:16.227-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T12:52:16.237-03:00 TRACE 63656 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@112a910b}
2025-10-23T12:52:16.238-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T12:52:16.264-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@620fec54 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T12:52:16.286-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T12:52:16.314-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T12:52:16.342-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T12:52:16.366-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T12:52:16.377-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T12:52:16.401-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T12:52:16.417-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T12:52:16.428-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T12:52:16.434-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 1.972 seconds (process running for 2979.084)
2025-10-23T12:52:16.437-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T12:52:19.518-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-23T12:52:19.518-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-23T12:52:19.518-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-23T12:52:19.518-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-23T12:52:19.518-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-23T12:52:19.518-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@67e371f5
2025-10-23T12:52:19.519-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5b1d4750
2025-10-23T12:52:19.519-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-23T12:52:19.519-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-23T12:52:19.519-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@620fec54] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:52:19.519-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T12:52:19.519-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:52:19.520-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:52:19.521-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:52:19.521-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T12:52:19.521-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T12:52:19.521-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T12:52:19.521-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T12:52:19.521-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T12:52:19.605-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1e470d78
2025-10-23T12:52:19.606-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T12:52:19.606-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T12:52:19.606-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T12:52:19.606-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T12:52:19.606-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T12:52:19.618-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T12:52:19.618-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T12:52:19.618-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T12:52:19.621-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@620fec54] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:52:23.198-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6c60d9c6]]]
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:52:23.198-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:52:23.198-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8080/oauth2/jwks
2025-10-23T12:52:23.199-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-10-23T12:52:23.200-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@620fec54] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:52:23.202-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:52:23.202-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:52:23.203-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-10-23T12:52:23.203-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=ISO-8859-1"
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:52:23.204-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:52:23.204-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@914791e6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@2850e3f6
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@696de9cd
2025-10-23T12:52:23.204-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@914791e6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:52:23.204-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:52:23.205-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T12:52:23.205-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:52:23.212-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:52:23.214-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=2.8284271247461903], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:52:23.215-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:52:23.216-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:52:40.080-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@620fec54] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:52:40.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:52:40.081-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:52:40.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:52:40.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:52:40.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:52:40.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:52:40.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:52:40.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:52:40.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@6c60d9c6]]]
2025-10-23T12:52:40.081-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:52:40.082-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:52:40.082-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:52:40.082-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:52:40.083-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:52:40.083-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:52:40.083-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@914791e6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:52:40.083-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@2850e3f6
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@696de9cd
2025-10-23T12:52:40.084-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@914791e6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:52:40.084-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:52:40.085-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T12:52:40.085-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:52:40.090-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:52:40.092-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=2.8284271247461903], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:52:40.093-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:52:40.095-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:55:59.831-03:00  INFO 63656 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T12:55:59.842-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-16] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T12:56:00.296-03:00  INFO 63656 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T12:56:00.298-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-16] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:56:00.298-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-10-23T12:56:00.315-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-10-23T12:56:00.410-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 63656 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T12:56:00.410-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T12:56:00.566-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T12:56:00.573-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 1 JPA repository interface.
2025-10-23T12:56:00.678-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T12:56:00.679-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T12:56:00.679-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T12:56:00.698-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T12:56:00.698-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 286 ms
2025-10-23T12:56:00.736-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T12:56:00.738-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T12:56:00.744-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T12:56:00.745-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-10-23T12:56:00.765-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn50: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T12:56:00.766-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-10-23T12:56:00.766-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T12:56:00.766-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T12:56:00.792-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T12:56:00.794-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T12:56:01.826-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T12:56:01.834-03:00 TRACE 63656 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@376f2bd3}
2025-10-23T12:56:01.834-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T12:56:01.869-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T12:56:01.889-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T12:56:01.918-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T12:56:01.936-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T12:56:01.953-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T12:56:01.961-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T12:56:01.973-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T12:56:01.987-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T12:56:01.998-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T12:56:02.003-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 1.624 seconds (process running for 3204.653)
2025-10-23T12:56:02.006-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T12:56:10.606-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-23T12:56:10.606-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-23T12:56:10.606-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-23T12:56:10.606-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-23T12:56:10.606-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-23T12:56:10.606-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3c2362d8
2025-10-23T12:56:10.607-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@30d2b4b0
2025-10-23T12:56:10.607-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-23T12:56:10.607-03:00  INFO 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-23T12:56:10.607-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:56:10.607-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:56:10.608-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T12:56:10.609-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T12:56:10.609-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T12:56:10.609-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T12:56:10.609-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T12:56:10.685-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T12:56:10.685-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@71d5c50
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T12:56:10.686-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T12:56:10.699-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T12:56:10.699-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T12:56:10.699-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T12:56:10.700-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:56:13.683-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:56:13.684-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:56:13.684-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:56:13.685-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8080/oauth2/jwks
2025-10-23T12:56:13.685-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-10-23T12:56:13.688-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:56:13.688-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2025-10-23T12:56:13.688-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T12:56:13.688-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T12:56:13.688-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T12:56:13.688-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T12:56:13.689-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:56:13.690-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Response 200 OK
2025-10-23T12:56:13.690-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=ISO-8859-1"
2025-10-23T12:56:13.692-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:56:13.692-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:56:13.692-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:13.692-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-10&posY=5 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:56:13.693-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:13.693-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-10&posY=5
2025-10-23T12:56:13.693-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-10&posY=5", parameters={masked}
2025-10-23T12:56:13.693-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:56:13.711-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:56:13.715-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=13.892443989449804], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:56:13.720-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:56:13.721-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:56:30.866-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:56:30.866-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:56:30.866-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-3&posY=9
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:56:30.867-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:56:30.869-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:56:30.869-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:56:30.869-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:30.869-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:56:30.869-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:56:30.869-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:56:30.869-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:56:30.869-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:56:30.869-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:56:30.869-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:56:30.870-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:56:30.870-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-3&posY=9
2025-10-23T12:56:30.870-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-3&posY=9 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:56:30.870-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:30.870-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-3&posY=9
2025-10-23T12:56:30.870-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-3&posY=9", parameters={masked}
2025-10-23T12:56:30.870-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:56:30.874-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:56:30.875-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=12.083045973594572], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:56:30.875-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:56:30.876-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:56:38.447-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:56:38.448-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-3&posY=1
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:56:38.448-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:56:38.449-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:56:38.449-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:56:38.449-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:38.449-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:56:38.449-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:56:38.449-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:56:38.450-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:56:38.450-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:56:38.450-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:56:38.450-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:56:38.450-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:56:38.450-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-3&posY=1
2025-10-23T12:56:38.450-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-3&posY=1 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:56:38.450-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:38.450-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-3&posY=1
2025-10-23T12:56:38.450-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-3&posY=1", parameters={masked}
2025-10-23T12:56:38.450-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:56:38.453-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:56:38.454-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=5.830951894845301], DistanciaDTO[nomeAgencia=Agencia  (truncated)...]
2025-10-23T12:56:38.454-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:56:38.455-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:56:48.483-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-3&posY=10
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:56:48.483-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:56:48.484-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:56:48.485-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:56:48.485-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:56:48.485-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:48.485-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:56:48.485-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:56:48.485-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:56:48.492-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:56:48.492-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:56:48.492-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:56:48.492-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:56:48.492-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:56:48.492-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-3&posY=10
2025-10-23T12:56:48.492-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-3&posY=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:56:48.492-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:48.492-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-3&posY=10
2025-10-23T12:56:48.492-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-3&posY=10", parameters={masked}
2025-10-23T12:56:48.492-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:56:48.498-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:56:48.498-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=13.0], DistanciaDTO[nomeAgencia=Agencia 2, distancia= (truncated)...]
2025-10-23T12:56:48.499-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:56:48.500-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:56:56.668-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-30&posY=10
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:56:56.668-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:56:56.669-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:56:56.669-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-30&posY=10
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-30&posY=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:56:56.669-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:56:56.669-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-30&posY=10
2025-10-23T12:56:56.669-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-30&posY=10", parameters={masked}
2025-10-23T12:56:56.670-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:56:56.672-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:56:56.672-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=34.17601498127012], DistanciaDTO[nomeAgencia=Agencia  (truncated)...]
2025-10-23T12:56:56.672-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:56:56.672-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:57:13.151-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:57:13.151-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:57:13.151-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=-5&posY=10
2025-10-23T12:57:13.151-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:57:13.151-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:57:13.151-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:57:13.152-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:57:13.152-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:57:13.152-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:57:13.152-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:57:13.152-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:57:13.152-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:57:13.152-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:57:13.152-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:57:13.153-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:57:13.153-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:57:13.153-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:57:13.153-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:57:13.153-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:57:13.153-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:57:13.154-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:57:13.154-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:57:13.154-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:57:13.154-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:57:13.154-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:57:13.154-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=-5&posY=10
2025-10-23T12:57:13.154-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=-5&posY=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:57:13.154-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:57:13.154-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=-5&posY=10
2025-10-23T12:57:13.155-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=-5&posY=10", parameters={masked}
2025-10-23T12:57:13.155-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:57:13.158-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:57:13.158-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 1, distancia=13.892443989449804], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:57:13.158-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:57:13.159-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:57:25.107-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:57:25.107-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:57:25.107-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=5&posY=10
2025-10-23T12:57:25.107-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:57:25.107-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:57:25.107-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:57:25.107-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:57:25.107-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:57:25.108-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:57:25.108-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:57:25.108-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:57:25.108-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:57:25.108-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:57:25.108-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:57:25.109-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:57:25.109-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:57:25.109-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:57:25.109-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:57:25.109-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:57:25.109-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:57:25.109-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:57:25.109-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:57:25.109-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:57:25.109-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:57:25.109-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:57:25.110-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=5&posY=10
2025-10-23T12:57:25.110-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=5&posY=10 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:57:25.110-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:57:25.110-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=5&posY=10
2025-10-23T12:57:25.110-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=5&posY=10", parameters={masked}
2025-10-23T12:57:25.110-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:57:25.114-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:57:25.114-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 2, distancia=7.810249675906654], DistanciaDTO[nomeAgencia=Agencia  (truncated)...]
2025-10-23T12:57:25.114-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:57:25.114-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:57:44.368-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=5&posY=15
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:57:44.368-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:57:44.369-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:57:44.369-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=5&posY=15
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=5&posY=15 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:57:44.369-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:57:44.369-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=5&posY=15
2025-10-23T12:57:44.369-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=5&posY=15", parameters={masked}
2025-10-23T12:57:44.370-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:57:44.373-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:57:44.373-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 2, distancia=12.083045973594572], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:57:44.373-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:57:44.374-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:57:52.541-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=2&posY=15
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:57:52.541-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:57:52.542-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:57:52.542-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:57:52.542-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:57:52.542-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:57:52.542-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:57:52.542-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:57:52.543-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:57:52.543-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:57:52.543-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:57:52.543-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:57:52.543-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:57:52.543-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=2&posY=15
2025-10-23T12:57:52.543-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=2&posY=15 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:57:52.543-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:57:52.543-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=2&posY=15
2025-10-23T12:57:52.544-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=2&posY=15", parameters={masked}
2025-10-23T12:57:52.544-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:57:52.546-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:57:52.546-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 2, distancia=13.601470508735444], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:57:52.546-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:57:52.548-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T12:58:04.503-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@7611b7f6] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T12:58:04.504-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=5&posY=15
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@761a6479]]]
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T12:58:04.504-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T12:58:04.505-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T12:58:04.505-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@5875d652
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T12:58:04.505-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=5&posY=15
2025-10-23T12:58:04.506-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=5&posY=15 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20f36946
2025-10-23T12:58:04.506-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a4c81198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T12:58:04.506-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=5&posY=15
2025-10-23T12:58:04.506-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=5&posY=15", parameters={masked}
2025-10-23T12:58:04.506-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T12:58:04.509-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T12:58:04.510-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 2, distancia=12.083045973594572], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T12:58:04.510-03:00 TRACE 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T12:58:04.510-03:00 DEBUG 63656 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T14:01:35.879-03:00  INFO 63656 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T14:01:35.891-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-20] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:01:36.039-03:00  INFO 63656 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:01:36.045-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-20] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:01:36.049-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-10-23T14:01:36.068-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-10-23T14:01:36.320-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 63656 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:01:36.320-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:01:36.500-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:01:36.508-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 1 JPA repository interface.
2025-10-23T14:01:36.738-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:01:36.740-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:01:36.740-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:01:36.771-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:01:36.771-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 449 ms
2025-10-23T14:01:36.826-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:01:36.828-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:01:36.837-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:01:36.839-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-10-23T14:01:36.919-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn80: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:01:36.920-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-10-23T14:01:36.922-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:01:36.937-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:01:37.074-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:01:37.105-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:01:37.875-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T14:01:37.887-03:00 TRACE 63656 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@7965765d}
2025-10-23T14:01:37.887-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T14:01:37.923-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@2721cdd9 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T14:01:37.948-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T14:01:37.994-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T14:01:38.017-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T14:01:38.039-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T14:01:38.046-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T14:01:38.060-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T14:01:38.073-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T14:01:38.086-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T14:01:38.090-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 1.821 seconds (process running for 7139.349)
2025-10-23T14:01:38.093-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T14:02:24.082-03:00  INFO 63656 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T14:02:24.084-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-24] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:02:24.362-03:00  INFO 63656 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:02:24.364-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-24] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:02:24.364-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-24] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-10-23T14:02:24.380-03:00  INFO 63656 --- [santander-desafio-osa] [Thread-24] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-10-23T14:02:24.766-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 63656 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:02:24.767-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:02:25.033-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:02:25.041-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 1 JPA repository interface.
2025-10-23T14:02:25.179-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:02:25.180-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:02:25.180-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:02:25.198-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:02:25.198-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 378 ms
2025-10-23T14:02:25.227-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:02:25.228-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:02:25.234-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:02:25.235-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-10-23T14:02:25.255-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn90: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:02:25.255-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-10-23T14:02:25.256-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:02:25.256-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:02:25.309-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:02:25.311-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:02:25.321-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'agenciaController': Unsatisfied dependency expressed through field 'service': Error creating bean with name 'agenciaService' defined in file [D:\workspace\santander-desafio-osa\target\classes\br\com\santander\desafio\app\service\AgenciaService.class]: Failed to instantiate [br.com.santander.desafio.app.service.AgenciaService]: Constructor threw exception
2025-10-23T14:02:25.321-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:02:25.323-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-10-23T14:02:25.341-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-10-23T14:02:25.342-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-23T14:02:25.351-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-23T14:02:25.377-03:00 ERROR 63656 --- [santander-desafio-osa] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'agenciaController': Unsatisfied dependency expressed through field 'service': Error creating bean with name 'agenciaService' defined in file [D:\workspace\santander-desafio-osa\target\classes\br\com\santander\desafio\app\service\AgenciaService.class]: Failed to instantiate [br.com.santander.desafio.app.service.AgenciaService]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.6.jar:3.5.6]
	at br.com.santander.desafio.app.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.6.jar:3.5.6]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'agenciaService' defined in file [D:\workspace\santander-desafio-osa\target\classes\br\com\santander\desafio\app\service\AgenciaService.class]: Failed to instantiate [br.com.santander.desafio.app.service.AgenciaService]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1242) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1760) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.11.jar:6.2.11]
	... 27 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [br.com.santander.desafio.app.service.AgenciaService]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:123) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1351) ~[spring-beans-6.2.11.jar:6.2.11]
	... 38 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problem: 
	EnableCaching cannot be resolved to a type

	at br.com.santander.desafio.app.service.AgenciaService.<init>(AgenciaService.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.2.11.jar:6.2.11]
	... 40 common frames omitted

2025-10-23T14:02:34.960-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 63656 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:02:34.960-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:02:35.195-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:02:35.205-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 1 JPA repository interface.
2025-10-23T14:02:35.333-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:02:35.347-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:02:35.347-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:02:35.395-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-10-23T14:02:35.400-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 437 ms
2025-10-23T14:02:35.517-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:02:35.519-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:02:35.524-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:02:35.526-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-10-23T14:02:35.566-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection conn91: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:02:35.567-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-10-23T14:02:35.569-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:02:35.570-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:02:35.980-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:02:35.982-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:02:36.683-03:00  WARN 63656 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T14:02:36.693-03:00 TRACE 63656 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@49e34f4f}
2025-10-23T14:02:36.693-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T14:02:36.738-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1465/0x00000008018b6a80@77754d68 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T14:02:36.772-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T14:02:36.859-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T14:02:36.928-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T14:02:36.974-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T14:02:36.986-03:00 DEBUG 63656 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T14:02:37.026-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T14:02:37.061-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T14:02:37.090-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T14:02:37.096-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 2.154 seconds (process running for 7198.355)
2025-10-23T14:02:37.106-03:00  INFO 63656 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   CacheAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.cache.CacheManager' (OnClassCondition)
      - @ConditionalOnBean (types: org.springframework.cache.interceptor.CacheAspectSupport; SearchStrategy: all) found bean 'cacheInterceptor'; @ConditionalOnMissingBean (names: cacheResolver types: org.springframework.cache.CacheManager; SearchStrategy: all) did not find any beans (OnBeanCondition)

   CacheAutoConfiguration#cacheManagerCustomizers matched:
      - @ConditionalOnMissingBean (types: org.springframework.boot.autoconfigure.cache.CacheManagerCustomizers; SearchStrategy: all) did not find any beans (OnBeanCondition)

   CacheAutoConfiguration.CacheManagerEntityManagerFactoryDependsOnPostProcessor matched:
      - @ConditionalOnClass found required class 'org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean' (OnClassCondition)
      - @ConditionalOnBean (types: org.springframework.orm.jpa.AbstractEntityManagerFactoryBean; SearchStrategy: all) found bean '&entityManagerFactory' (OnBeanCondition)


Negative matches:
-----------------

   GenericCacheConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.cache.Cache; SearchStrategy: all) did not find any beans of type org.springframework.cache.Cache (OnBeanCondition)
      Matched:
         - Cache org.springframework.boot.autoconfigure.cache.GenericCacheConfiguration automatic cache type (CacheCondition)

   NoOpCacheConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.cache.CacheManager; SearchStrategy: all) found beans of type 'org.springframework.cache.CacheManager' cacheManager (OnBeanCondition)
      Matched:
         - Cache org.springframework.boot.autoconfigure.cache.NoOpCacheConfiguration automatic cache type (CacheCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-10-23T14:02:39.626-03:00  INFO 63656 --- [santander-desafio-osa] [RMI TCP Connection(164)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-10-23T14:02:39.628-03:00  INFO 63656 --- [santander-desafio-osa] [RMI TCP Connection(164)-127.0.0.1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:02:39.738-03:00  INFO 63656 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:02:39.741-03:00  INFO 63656 --- [santander-desafio-osa] [RMI TCP Connection(164)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:02:39.742-03:00  INFO 63656 --- [santander-desafio-osa] [RMI TCP Connection(164)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-10-23T14:02:39.747-03:00  INFO 63656 --- [santander-desafio-osa] [RMI TCP Connection(164)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-10-23T14:02:54.530-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 54184 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:02:54.534-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:02:54.578-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-23T14:02:54.578-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-23T14:02:55.399-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:02:55.453-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 1 JPA repository interface.
2025-10-23T14:02:56.037-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:02:56.050-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:02:56.050-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:02:56.097-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:02:56.097-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1519 ms
2025-10-23T14:02:56.190-03:00  WARN 54184 --- [santander-desafio-osa] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: 'entityManagerFactory' depends on missing bean 'cacheManager'
2025-10-23T14:02:56.194-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-23T14:02:56.209-03:00  INFO 54184 --- [santander-desafio-osa] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-23T14:02:56.227-03:00 ERROR 54184 --- [santander-desafio-osa] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'cacheManager' that could not be found.


Action:

Consider defining a bean named 'cacheManager' in your configuration.

2025-10-23T14:04:31.491-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 76572 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:04:31.493-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:04:31.531-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-23T14:04:31.531-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-23T14:04:32.103-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:04:32.151-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 1 JPA repository interface.
2025-10-23T14:04:32.671-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:04:32.683-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:04:32.683-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:04:32.724-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:04:32.725-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1194 ms
2025-10-23T14:04:32.868-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:04:32.906-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-23T14:04:32.933-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:04:33.175-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:04:33.204-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-23T14:04:33.413-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:04:33.414-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-23T14:04:33.436-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:04:33.459-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:04:34.087-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:04:34.134-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:04:34.657-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T14:04:34.683-03:00 TRACE 76572 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@78b83612}
2025-10-23T14:04:34.685-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T14:04:34.907-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@4bc4637 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T14:04:34.974-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T14:04:35.050-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T14:04:35.104-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T14:04:35.174-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T14:04:35.225-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T14:04:35.270-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T14:04:35.336-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T14:04:35.375-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T14:04:35.385-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 4.337 seconds (process running for 4.936)
2025-10-23T14:04:59.044-03:00  INFO 76572 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T14:04:59.093-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-6] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:04:59.321-03:00  INFO 76572 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:04:59.326-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-6] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:04:59.330-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-23T14:04:59.339-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-23T14:04:59.446-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 76572 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:04:59.447-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:04:59.639-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:04:59.649-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 1 JPA repository interface.
2025-10-23T14:04:59.881-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:04:59.882-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:04:59.882-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:05:00.063-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:05:00.065-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 614 ms
2025-10-23T14:05:00.529-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:05:00.534-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:05:00.549-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:05:00.550-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-10-23T14:05:00.571-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:05:00.572-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-10-23T14:05:00.573-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:05:00.574-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:05:00.621-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:05:00.623-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:05:02.828-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T14:05:02.837-03:00 TRACE 76572 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@6d8046e4}
2025-10-23T14:05:02.838-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T14:05:02.875-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@4d4565bd with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T14:05:02.896-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T14:05:02.930-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T14:05:02.963-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T14:05:02.982-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T14:05:02.991-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T14:05:03.008-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T14:05:03.023-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T14:05:03.034-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T14:05:03.039-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 3.619 seconds (process running for 32.59)
2025-10-23T14:05:03.040-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T14:05:21.689-03:00  INFO 76572 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 4 class path changes (0 additions, 1 deletion, 3 modifications)
2025-10-23T14:05:21.691-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-8] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:05:21.777-03:00  INFO 76572 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:05:21.779-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-8] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:05:21.780-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-10-23T14:05:21.798-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-10-23T14:05:21.900-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 76572 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:05:21.900-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:05:22.019-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:05:22.028-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 1 JPA repository interface.
2025-10-23T14:05:22.118-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:05:22.119-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:05:22.119-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:05:22.137-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:05:22.137-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 236 ms
2025-10-23T14:05:22.181-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:05:22.183-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:05:22.188-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:05:22.189-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-10-23T14:05:22.209-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:05:22.209-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-10-23T14:05:22.210-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:05:22.210-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:05:22.234-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:05:22.235-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:05:23.442-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T14:05:23.458-03:00 TRACE 76572 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@5606595d}
2025-10-23T14:05:23.459-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T14:05:23.499-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@17ba5530 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T14:05:23.556-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T14:05:23.602-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T14:05:23.631-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T14:05:23.653-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T14:05:23.674-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T14:05:23.723-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T14:05:23.751-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T14:05:23.768-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T14:05:23.776-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 1.914 seconds (process running for 53.327)
2025-10-23T14:05:23.780-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T14:05:25.214-03:00  INFO 76572 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T14:05:25.240-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-12] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:05:25.573-03:00  INFO 76572 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:05:25.575-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-12] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:05:25.576-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-10-23T14:05:25.582-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-10-23T14:05:25.665-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 76572 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:05:25.665-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:05:25.804-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:05:25.812-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 1 JPA repository interface.
2025-10-23T14:05:25.944-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:05:25.946-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:05:25.947-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:05:25.968-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:05:25.968-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 302 ms
2025-10-23T14:05:26.020-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:05:26.024-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:05:26.051-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:05:26.056-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-10-23T14:05:26.097-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn30: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:05:26.123-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-10-23T14:05:26.126-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:05:26.130-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:05:26.195-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:05:26.198-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:05:27.818-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T14:05:27.827-03:00 TRACE 76572 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@2595a61a}
2025-10-23T14:05:27.827-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T14:05:27.864-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@1bbab6de with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T14:05:27.886-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T14:05:27.923-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T14:05:27.964-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T14:05:27.991-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T14:05:28.008-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T14:05:28.038-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T14:05:28.061-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T14:05:28.072-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T14:05:28.079-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 2.44 seconds (process running for 57.63)
2025-10-23T14:05:28.081-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T14:05:44.614-03:00  INFO 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-23T14:05:44.615-03:00  INFO 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-23T14:05:44.615-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-23T14:05:44.615-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-23T14:05:44.615-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-23T14:05:44.616-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@595da362
2025-10-23T14:05:44.616-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4135f847
2025-10-23T14:05:44.617-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-23T14:05:44.617-03:00  INFO 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-23T14:05:44.630-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@1bbab6de] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:05:44.631-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-10-23T14:05:44.633-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T14:05:44.633-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T14:05:44.635-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T14:05:44.636-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T14:05:44.649-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T14:05:44.650-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T14:05:44.651-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:05:44.651-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T14:05:44.652-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T14:05:44.652-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:05:44.652-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T14:05:44.652-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T14:05:44.652-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T14:05:44.652-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T14:05:44.652-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (12/22)
2025-10-23T14:05:44.656-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/17)
2025-10-23T14:05:44.656-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/17)
2025-10-23T14:05:44.656-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/17)
2025-10-23T14:05:44.656-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-10-23T14:05:44.737-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-10-23T14:05:44.737-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-10-23T14:05:44.738-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (13/22)
2025-10-23T14:05:44.739-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Found username 'agencias-client' in Basic Authorization header
2025-10-23T14:05:44.739-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/22)
2025-10-23T14:05:44.739-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:05:44.739-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/22)
2025-10-23T14:05:44.740-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/22)
2025-10-23T14:05:44.741-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/22)
2025-10-23T14:05:44.742-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/22)
2025-10-23T14:05:44.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-10-23T14:05:44.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@27b6bbd9
2025-10-23T14:05:44.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=agencias-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-10-23T14:05:44.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/22)
2025-10-23T14:05:44.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/17)
2025-10-23T14:05:44.746-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2025-10-23T14:05:44.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2025-10-23T14:05:44.812-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Generated access token
2025-10-23T14:05:44.814-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Saved authorization
2025-10-23T14:05:44.814-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2025-10-23T14:05:44.843-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:05:56.020-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@1bbab6de] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:05:56.021-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:05:56.021-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=5&posY=15
2025-10-23T14:05:56.021-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:05:56.021-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:05:56.021-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:05:56.021-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:05:56.022-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:05:56.022-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:05:56.022-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@29ea38b6]]]
2025-10-23T14:05:56.022-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:05:56.022-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:05:56.022-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:05:56.023-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T14:05:56.043-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8080/oauth2/jwks
2025-10-23T14:05:56.051-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]
2025-10-23T14:05:56.061-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@1bbab6de] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:05:56.061-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2025-10-23T14:05:56.061-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/22)
2025-10-23T14:05:56.061-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/22)
2025-10-23T14:05:56.062-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/22)
2025-10-23T14:05:56.062-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/22)
2025-10-23T14:05:56.062-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/22)
2025-10-23T14:05:56.062-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/22)
2025-10-23T14:05:56.062-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:05:56.062-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Or [Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Ant [pattern='/oauth2/par', POST]], Ant [pattern='/.well-known/oauth-authorization-server', GET], Or [Ant [pattern='/oauth2/authorize', GET], Ant [pattern='/oauth2/authorize', POST]], Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST], Or [Ant [pattern='/oauth2/device_verification', GET], Ant [pattern='/oauth2/device_verification', POST]], Ant [pattern='/oauth2/jwks', GET]]]]]
2025-10-23T14:05:56.062-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/22)
2025-10-23T14:05:56.062-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:05:56.062-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/22)
2025-10-23T14:05:56.063-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/22)
2025-10-23T14:05:56.063-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/22)
2025-10-23T14:05:56.063-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (11/22)
2025-10-23T14:05:56.066-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:05:56.072-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Response 200 OK
2025-10-23T14:05:56.074-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as "application/json;charset=ISO-8859-1"
2025-10-23T14:05:56.080-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T14:05:56.080-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T14:05:56.082-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8e3a9ce4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T14:05:56.082-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:05:56.083-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@2d68d923
2025-10-23T14:05:56.084-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:05:56.084-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:05:56.085-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:05:56.085-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:05:56.085-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:05:56.085-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:05:56.085-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=5&posY=15
2025-10-23T14:05:56.088-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=5&posY=15 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@668abc76
2025-10-23T14:05:56.089-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8e3a9ce4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T14:05:56.089-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=5&posY=15
2025-10-23T14:05:56.091-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=5&posY=15", parameters={masked}
2025-10-23T14:05:56.092-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T14:05:56.464-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T14:05:56.468-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 2, distancia=12.083045973594572], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T14:05:56.506-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:05:56.508-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T14:06:59.008-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@1bbab6de] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:06:59.010-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=5&posY=15
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@29ea38b6]]]
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:06:59.010-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:06:59.011-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T14:06:59.013-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T14:06:59.014-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T14:06:59.014-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8e3a9ce4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T14:06:59.014-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:06:59.014-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@2d68d923
2025-10-23T14:06:59.014-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:06:59.015-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:06:59.015-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:06:59.015-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:06:59.015-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:06:59.015-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:06:59.015-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=5&posY=15
2025-10-23T14:06:59.015-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=5&posY=15 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@668abc76
2025-10-23T14:06:59.015-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8e3a9ce4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T14:06:59.015-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=5&posY=15
2025-10-23T14:06:59.016-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=5&posY=15", parameters={masked}
2025-10-23T14:06:59.016-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T14:06:59.018-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T14:06:59.018-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 2, distancia=12.083045973594572], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T14:06:59.019-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:06:59.019-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T14:07:00.964-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@1bbab6de] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:07:00.965-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /desafio/distancia?posX=5&posY=15
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@29ea38b6]]]
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:07:00.965-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:07:00.966-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/3)
2025-10-23T14:07:00.967-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Looking for scopes in claim scope
2025-10-23T14:07:00.967-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-10-23T14:07:00.967-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8e3a9ce4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T14:07:00.967-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:07:00.967-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@2d68d923
2025-10-23T14:07:00.967-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:07:00.967-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:07:00.968-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:07:00.968-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:07:00.968-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:07:00.968-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:07:00.968-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /desafio/distancia?posX=5&posY=15
2025-10-23T14:07:00.968-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /desafio/distancia?posX=5&posY=15 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@668abc76
2025-10-23T14:07:00.968-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8e3a9ce4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_read, SCOPE_write]]
2025-10-23T14:07:00.968-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /desafio/distancia?posX=5&posY=15
2025-10-23T14:07:00.968-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/desafio/distancia?posX=5&posY=15", parameters={masked}
2025-10-23T14:07:00.968-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to br.com.santander.desafio.app.controller.AgenciaController#consultarDistancias(double, double)
2025-10-23T14:07:00.970-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-23T14:07:00.970-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[DistanciaDTO[nomeAgencia=Agencia 2, distancia=12.083045973594572], DistanciaDTO[nomeAgencia=Agencia (truncated)...]
2025-10-23T14:07:00.970-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:07:00.971-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-23T14:07:47.303-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@1bbab6de] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:07:47.303-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:07:47.304-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /h2-console/login.do?jsessionid=71af2df518bc5afcf50b0346c0286e57
2025-10-23T14:07:47.304-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:07:47.304-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:07:47.304-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:07:47.304-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:07:47.304-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:07:47.304-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:07:47.363-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.web.csrf.CsrfTokenRequestHandler   : Did not find a CSRF token in the [X-CSRF-TOKEN] request header
2025-10-23T14:07:47.364-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.web.csrf.CsrfTokenRequestHandler   : Did not find a CSRF token in the [_csrf] request parameter
2025-10-23T14:07:47.364-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for http://localhost:8080/h2-console/login.do?jsessionid=71af2df518bc5afcf50b0346c0286e57
2025-10-23T14:07:47.365-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-10-23T14:07:47.365-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@1bbab6de] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:07:47.383-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /error?jsessionid=71af2df518bc5afcf50b0346c0286e57
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:07:47.383-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:07:47.384-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:07:47.384-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:07:47.384-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:07:47.384-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:07:47.384-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /error?jsessionid=71af2df518bc5afcf50b0346c0286e57
2025-10-23T14:07:47.384-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Denying request since did not find matching RequestMatcher
2025-10-23T14:07:47.387-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 1023D1AC92784F08AB8BF29DE40F9AAB using the SPRING_SECURITY_CONTEXT session attribute
2025-10-23T14:07:47.387-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-10-23T14:07:47.387-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-10-23T14:07:47.388-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1023D1AC92784F08AB8BF29DE40F9AAB], Granted Authorities=[ROLE_ANONYMOUS]]
2025-10-23T14:07:47.388-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1023D1AC92784F08AB8BF29DE40F9AAB], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:99) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:612) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:396) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:323) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:268) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:377) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:209) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:152) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-10-23T14:07:47.406-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Did not save request since it did not match [And [Ant [pattern='/**', GET], Not [Ant [pattern='/**/favicon.*']], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@22cc6a36, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[*/*]]], Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@22cc6a36, matchingMediaTypes=[multipart/form-data], useEquals=false, ignoredMediaTypes=[*/*]]], Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@22cc6a36, matchingMediaTypes=[text/event-stream], useEquals=false, ignoredMediaTypes=[*/*]]]]]
2025-10-23T14:09:53.478-03:00  INFO 76572 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T14:09:53.479-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-16] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:09:53.620-03:00  INFO 76572 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:09:53.622-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-16] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:09:53.623-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-10-23T14:09:53.638-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-10-23T14:09:53.760-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 76572 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:09:53.760-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:09:54.459-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:09:54.467-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 1 JPA repository interface.
2025-10-23T14:09:54.566-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:09:54.567-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:09:54.567-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:09:54.586-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:09:54.586-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 824 ms
2025-10-23T14:09:54.660-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:09:54.663-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:09:54.670-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:09:54.670-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-10-23T14:09:54.696-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn40: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:09:54.696-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-10-23T14:09:54.697-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:09:54.697-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:09:54.734-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:09:54.737-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:09:55.606-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T14:09:55.623-03:00 TRACE 76572 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@32199ed6}
2025-10-23T14:09:55.623-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T14:09:55.682-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@5f1ab110 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T14:09:55.704-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T14:09:55.758-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T14:09:55.781-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T14:09:55.801-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T14:09:55.813-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T14:09:55.831-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T14:09:55.850-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T14:09:55.861-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T14:09:55.867-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 2.135 seconds (process running for 325.418)
2025-10-23T14:09:55.870-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T14:12:01.008-03:00  INFO 76572 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T14:12:01.009-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-20] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:12:01.124-03:00  INFO 76572 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:12:01.126-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-20] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:12:01.126-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-10-23T14:12:01.130-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-10-23T14:12:01.227-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 76572 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:12:01.228-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:12:01.509-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:12:01.521-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 1 JPA repository interface.
2025-10-23T14:12:02.082-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:12:02.086-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:12:02.087-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:12:02.151-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:12:02.151-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 921 ms
2025-10-23T14:12:02.285-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:12:02.290-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:12:02.305-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:12:02.307-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-10-23T14:12:02.348-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn50: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:12:02.349-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-10-23T14:12:02.349-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:12:02.350-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:12:02.390-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:12:02.391-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:12:02.918-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T14:12:02.943-03:00 TRACE 76572 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@4c3f968}
2025-10-23T14:12:02.945-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T14:12:03.007-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T14:12:03.050-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T14:12:03.131-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T14:12:03.174-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T14:12:03.203-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T14:12:03.218-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T14:12:03.261-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T14:12:03.303-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T14:12:03.345-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T14:12:03.357-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 2.157 seconds (process running for 452.908)
2025-10-23T14:12:03.362-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T14:12:05.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:05.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:05.787-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/
2025-10-23T14:12:05.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:05.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:05.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:05.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:05.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:05.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/
2025-10-23T14:12:05.788-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/ using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:05.788-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/
2025-10-23T14:12:05.813-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:05.833-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:05.834-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:05.834-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/stylesheet.css
2025-10-23T14:12:05.834-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:05.834-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:05.835-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:05.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:05.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/stylesheet.css
2025-10-23T14:12:05.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/stylesheet.css using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:05.836-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/stylesheet.css
2025-10-23T14:12:05.850-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:05.897-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:05.898-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/login.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:05.898-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/login.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:05.899-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/login.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14 using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:05.899-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/login.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:05.901-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:05.940-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/background.gif
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:05.940-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/background.gif
2025-10-23T14:12:05.941-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/background.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:05.941-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/background.gif
2025-10-23T14:12:05.943-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.608-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.608-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.609-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /h2-console/login.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.609-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.610-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.610-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.610-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.610-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /h2-console/login.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.610-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /h2-console/login.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14 using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.610-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /h2-console/login.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.621-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.636-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.638-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/stylesheet.css
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.638-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.639-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/stylesheet.css
2025-10-23T14:12:22.639-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/stylesheet.css using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.639-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/stylesheet.css
2025-10-23T14:12:22.639-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.677-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.677-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.677-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/header.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.677-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.677-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/header.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.678-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/header.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14 using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.678-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/header.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.679-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.681-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tables.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.681-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.683-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.683-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.683-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.683-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.683-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.683-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tables.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.683-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tables.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14 using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.683-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tables.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.684-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.684-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.684-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/query.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.684-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.684-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.686-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.687-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.687-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.687-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.687-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.687-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.687-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/query.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.687-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/query.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14 using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.688-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/query.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.690-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.692-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.692-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.692-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/help.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.692-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.692-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.692-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.693-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.694-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.694-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.694-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.694-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.695-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.695-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.695-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/help.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.695-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/help.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14 using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.695-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/help.jsp?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:22.696-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.729-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.729-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.729-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.729-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.729-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_line.gif
2025-10-23T14:12:22.729-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_disconnect.gif
2025-10-23T14:12:22.729-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.729-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.729-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.729-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.729-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.730-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_disconnect.gif
2025-10-23T14:12:22.731-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.731-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_disconnect.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.731-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_line.gif
2025-10-23T14:12:22.731-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_disconnect.gif
2025-10-23T14:12:22.731-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_line.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.731-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_line.gif
2025-10-23T14:12:22.734-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.734-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.742-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.742-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.743-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_rollback.gif
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.743-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_commit.gif
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.743-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_refresh.gif
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_rollback.gif
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_rollback.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.743-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_rollback.gif
2025-10-23T14:12:22.743-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_commit.gif
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_commit.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_refresh.gif
2025-10-23T14:12:22.745-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_refresh.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.745-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_refresh.gif
2025-10-23T14:12:22.745-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_commit.gif
2025-10-23T14:12:22.746-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.746-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.746-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.747-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_run_selected.gif
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.747-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_run.gif
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.747-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_run.gif
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_run_selected.gif
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_run.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.748-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_run.gif
2025-10-23T14:12:22.748-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_run_selected.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.748-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_run_selected.gif
2025-10-23T14:12:22.749-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.751-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_help.gif
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.751-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_history.gif
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.751-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.753-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/icon_stop.gif
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.753-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_history.gif
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_help.gif
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_history.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.754-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_history.gif
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_help.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.754-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_help.gif
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/icon_stop.gif
2025-10-23T14:12:22.754-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/icon_stop.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.754-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/icon_stop.gif
2025-10-23T14:12:22.755-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.755-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.755-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.756-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.777-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.777-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.777-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree.js
2025-10-23T14:12:22.777-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.777-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.777-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.777-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.777-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree.js
2025-10-23T14:12:22.778-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree.js using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.778-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree.js
2025-10-23T14:12:22.780-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.825-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_minus.gif
2025-10-23T14:12:22.825-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_plus.gif
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.825-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_database.gif
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.825-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_empty.gif
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.825-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.825-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_table.gif
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.826-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_column.gif
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.826-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.827-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_plus.gif
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_plus.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_empty.gif
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_minus.gif
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.828-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_plus.gif
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_database.gif
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_empty.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_minus.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_database.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_table.gif
2025-10-23T14:12:22.828-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_minus.gif
2025-10-23T14:12:22.828-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_database.gif
2025-10-23T14:12:22.828-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_empty.gif
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_column.gif
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_table.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.828-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_column.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.828-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_table.gif
2025-10-23T14:12:22.828-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_column.gif
2025-10-23T14:12:22.829-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.829-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.829-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.830-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.830-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.830-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.836-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_info.gif
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.836-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_users.gif
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.836-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_folder.gif
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.836-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.837-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_users.gif
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_users.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_info.gif
2025-10-23T14:12:22.838-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_users.gif
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_folder.gif
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_info.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_folder.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.838-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_info.gif
2025-10-23T14:12:22.838-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_folder.gif
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.838-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_type.gif
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.840-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_index.gif
2025-10-23T14:12:22.840-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_index_az.gif
2025-10-23T14:12:22.838-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.840-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_type.gif
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_index_az.gif
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_index.gif
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_index_az.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_index.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.841-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_index_az.gif
2025-10-23T14:12:22.841-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_type.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.841-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_index.gif
2025-10-23T14:12:22.841-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_type.gif
2025-10-23T14:12:22.842-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.842-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.842-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:22.844-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_user.gif
2025-10-23T14:12:22.844-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/tree_view.gif
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.844-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_user.gif
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/tree_view.gif
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_user.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.845-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/tree_view.gif using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:22.845-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_user.gif
2025-10-23T14:12:22.845-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/tree_view.gif
2025-10-23T14:12:22.849-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:22.849-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:30.767-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:30.767-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:30.767-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /h2-console/query.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:30.767-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:30.767-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:30.767-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:30.767-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:30.767-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:30.767-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:30.768-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:30.769-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:30.769-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:30.769-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:30.769-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /h2-console/query.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:30.769-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /h2-console/query.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14 using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:30.769-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /h2-console/query.do?jsessionid=12bdaf9964383a1f44e46fbe656cef14
2025-10-23T14:12:30.774-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:30.785-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'authServerSecurityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/AuthorizationServerConfig.class]] matching [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@43dfd5dd] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, AuthorizationServerContext, HeaderWriter, Csrf, Logout, OAuth2AuthorizationServerMetadataEndpoint, OAuth2AuthorizationEndpoint, OAuth2DeviceVerificationEndpoint, NimbusJwkSetEndpoint, OAuth2ClientAuthentication, BasicAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization, OAuth2TokenEndpoint, OAuth2TokenIntrospectionEndpoint, OAuth2TokenRevocationEndpoint, OAuth2DeviceAuthorizationEndpoint] (1/2)
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain defined as 'securityFilterChain' in [class path resource [br/com/santander/desafio/app/security/authorization/ResourceServerConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Csrf, Logout, BearerTokenAuthentication, Authentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization] (2/2)
2025-10-23T14:12:30.786-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/table.js
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/13)
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] s.s.w.c.CsrfTokenRequestAttributeHandler : Wrote a CSRF token to the following request attributes: [_csrf, org.springframework.security.web.csrf.CsrfToken]
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [Deferred [Mvc [pattern='/h2-console/**'], Ant [pattern='/h2-console/**']], org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@4645d6fd]]]
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/13)
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-10-23T14:12:30.786-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthenticationFilter (8/13)
2025-10-23T14:12:30.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.a.AuthenticationFilter           : Did not match request to org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.DPoPAuthenticationConfigurer$DPoPRequestMatcher@76d06659
2025-10-23T14:12:30.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (9/13)
2025-10-23T14:12:30.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-10-23T14:12:30.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (10/13)
2025-10-23T14:12:30.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (11/13)
2025-10-23T14:12:30.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-10-23T14:12:30.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-10-23T14:12:30.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /h2-console/table.js
2025-10-23T14:12:30.787-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /h2-console/table.js using org.springframework.security.authorization.SingleResultAuthorizationManager@37ed6c62
2025-10-23T14:12:30.787-03:00 DEBUG 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/table.js
2025-10-23T14:12:30.789-03:00 TRACE 76572 --- [santander-desafio-osa] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-10-23T14:12:37.148-03:00  INFO 76572 --- [santander-desafio-osa] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-23T14:12:37.149-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-24] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:12:37.236-03:00  INFO 76572 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:12:37.237-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-24] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:12:37.238-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-24] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-10-23T14:12:37.238-03:00  INFO 76572 --- [santander-desafio-osa] [Thread-24] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-10-23T14:12:37.333-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Starting DemoApplication using Java 17.0.7 with PID 76572 (D:\workspace\santander-desafio-osa\target\classes started by leo_c in D:\workspace\santander-desafio-osa)
2025-10-23T14:12:37.333-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-23T14:12:37.447-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-23T14:12:37.454-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 1 JPA repository interface.
2025-10-23T14:12:37.538-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-23T14:12:37.539-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-23T14:12:37.539-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-23T14:12:37.554-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-23T14:12:37.554-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 221 ms
2025-10-23T14:12:37.588-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-23T14:12:37.590-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-23T14:12:37.595-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-23T14:12:37.595-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-10-23T14:12:37.613-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn61: url=jdbc:h2:file:./data/agenciasdb user=SANTANDER
2025-10-23T14:12:37.614-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-10-23T14:12:37.614-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-23T14:12:37.614-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 2.1.214
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-23T14:12:37.636-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-23T14:12:37.638-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:12:38.280-03:00  WARN 76572 --- [santander-desafio-osa] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-23T14:12:38.289-03:00 TRACE 76572 --- [santander-desafio-osa] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {resourceServerConfig=br.com.santander.desafio.app.security.authorization.ResourceServerConfig$$SpringCGLIB$$0@6ced75f2}
2025-10-23T14:12:38.289-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-10-23T14:12:38.332-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1503/0x00000008018cce08@6b3cb089 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter
2025-10-23T14:12:38.350-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-23T14:12:38.383-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-23T14:12:38.410-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CsrfFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-10-23T14:12:38.426-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-23T14:12:38.434-03:00 DEBUG 76572 --- [santander-desafio-osa] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-23T14:12:38.449-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./data/agenciasdb'
2025-10-23T14:12:38.466-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-10-23T14:12:38.476-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-23T14:12:38.482-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] b.c.s.desafio.app.DemoApplication        : Started DemoApplication in 1.179 seconds (process running for 488.034)
2025-10-23T14:12:38.484-03:00  INFO 76572 --- [santander-desafio-osa] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-10-23T14:24:57.728-03:00  INFO 76572 --- [santander-desafio-osa] [RMI TCP Connection(44)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-10-23T14:24:57.730-03:00  INFO 76572 --- [santander-desafio-osa] [RMI TCP Connection(44)-127.0.0.1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-23T14:24:57.823-03:00  INFO 76572 --- [santander-desafio-osa] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-23T14:24:57.825-03:00  INFO 76572 --- [santander-desafio-osa] [RMI TCP Connection(44)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-23T14:24:57.826-03:00  INFO 76572 --- [santander-desafio-osa] [RMI TCP Connection(44)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-10-23T14:24:57.830-03:00  INFO 76572 --- [santander-desafio-osa] [RMI TCP Connection(44)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
